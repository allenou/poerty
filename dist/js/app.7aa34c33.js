(function(e){function n(n){for(var r,i,u=n[0],c=n[1],s=n[2],l=0,f=[];l<u.length;l++)i=u[l],o[i]&&f.push(o[i][0]),o[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(n);while(f.length)f.shift()();return a.push.apply(a,s||[]),t()}function t(){for(var e,n=0;n<a.length;n++){for(var t=a[n],r=!0,i=1;i<t.length;i++){var u=t[i];0!==o[u]&&(r=!1)}r&&(a.splice(n--,1),e=c(c.s=t[0]))}return e}var r={},i={app:0},o={app:0},a=[];function u(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-67bc8eaa":"59d7532f","chunk-cdefb6d4":"1a3dc38a","chunk-fd6f1cc2":"6b20cdc0"}[e]+".js"}function c(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,c),t.l=!0,t.exports}c.e=function(e){var n=[],t={"chunk-cdefb6d4":1,"chunk-fd6f1cc2":1};i[e]?n.push(i[e]):0!==i[e]&&t[e]&&n.push(i[e]=new Promise(function(n,t){for(var r="css/"+({}[e]||e)+"."+{"chunk-67bc8eaa":"31d6cfe0","chunk-cdefb6d4":"1b7d111c","chunk-fd6f1cc2":"dbfeb940"}[e]+".css",o=c.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var s=a[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===r||l===o))return n()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){s=f[u],l=s.getAttribute("data-href");if(l===r||l===o)return n()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=n,d.onerror=function(n){var r=n&&n.target&&n.target.src||o,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.request=r,delete i[e],d.parentNode.removeChild(d),t(a)},d.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(d)}).then(function(){i[e]=0}));var r=o[e];if(0!==r)if(r)n.push(r[2]);else{var a=new Promise(function(n,t){r=o[e]=[n,t]});n.push(r[2]=a);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=u(e),s=function(n){l.onerror=l.onload=null,clearTimeout(f);var t=o[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src,a=new Error("Loading chunk "+e+" failed.\n("+r+": "+i+")");a.type=r,a.request=i,t[1](a)}o[e]=void 0}};var f=setTimeout(function(){s({type:"timeout",target:l})},12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(n)},c.m=e,c.c=r,c.d=function(e,n,t){c.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,n){if(1&n&&(e=c(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(c.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)c.d(t,r,function(n){return e[n]}.bind(null,r));return t},c.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(n,"a",n),n},c.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},c.p="/poerty/",c.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=n,s=s.slice();for(var f=0;f<s.length;f++)n(s[f]);var d=l;a.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";var r=t("64a9"),i=t.n(r);i.a},3092:function(e,n,t){},"545e":function(e,n,t){"use strict";var r=t("895a"),i=t.n(r);i.a},"56d7":function(e,n,t){"use strict";t.r(n);t("28a5"),t("6762"),t("2fdb"),t("cadf"),t("551c"),t("f751"),t("097d");var r=t("2b0e"),i=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("Aside",{on:{nav:function(n){return e.fetchPoertys(n)}}}),t("main",[t("SearchBar"),t("keep-alive",[t("router-view")],1)],1)],1)},o=[],a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("nav",[t("h2",[e._v("中国诗词")]),t("ul",{on:{click:function(n){return e.nav(n)}}},[t("li",{attrs:{"data-nav":"shijing"}},[t("router-link",{attrs:{to:"/shijing","exact-active-class":"active"}},[e._v("《诗经》")])],1),t("li",{attrs:{"data-nav":"lunyu"}},[t("router-link",{attrs:{to:"/lunyu","exact-active-class":"active"}},[e._v("《论语》")])],1),t("li",{attrs:{"data-nav":"sishuwujing"}},[t("router-link",{attrs:{to:"/sishuwujing","exact-active-class":"active"}},[e._v("《四书五经》")])],1)]),t("GitHubBadge",{staticClass:"badge",attrs:{slug:"allenou/poerty",fill:"#fff"}})],1)},u=[],c=t("527f"),s=t.n(c),l={components:{GitHubBadge:s.a},methods:{nav:function(e){"LI"===e.target.tagName&&this.$emit("nav",e.target.dataset.nav)}}},f=l,d=(t("6c54"),t("2877")),h=Object(d["a"])(f,a,u,!1,null,"b66df75c",null),p=h.exports,g=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("header",[t("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],attrs:{type:"search",placeholder:e.placeholder},domProps:{value:e.keyword},on:{input:function(n){n.target.composing||(e.keyword=n.target.value)}}}),e.isRecognition?t("i",{staticClass:"iconfont",class:{speaking:e.isSpeaking},on:{click:e.speak}},[e._v("")]):e._e()])},v=[],w=t("774e"),m=t.n(w),y={data:function(){return{keyword:"",placeholder:"输入关键字进行搜索",isSpeaking:!1,lang:"zh-Hans",isRecognition:window.SpeechRecognition||window.webkitSpeechRecognition}},watch:{keyword:function(e){this.$store.commit("setKeyword",e)},"$route.path":function(e){this.keyword="",e.includes("shijing")?this.lang="zh-Hans":this.lang="zh-Hant"}},methods:{speak:function(){this.isSpeaking=!0,this.placeholder="说出关键字进行搜索",window.SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;var e=this,n=new SpeechRecognition;n.lang=this.lang,n.interimResults=!0,n.maxAlternatives=7,n.start(),n.onresult=function(n){var t=m()(n.results).map(function(e){return e[0]}).map(function(e){return e.transcript}).join("");n.results[0].isFinal&&(e.keyword=t,console.log("You said: ",t))},n.onend=function(){e.isSpeaking=!1,e.placeholder="输入关键字进行搜索"}}}},b=y,k=(t("545e"),Object(d["a"])(b,g,v,!1,null,"e9c6c702",null)),j=k.exports,S={name:"app",components:{Aside:p,SearchBar:j},data:function(){return{currentNav:"",placeholder:""}}},x=S,_=(t("034f"),Object(d["a"])(x,i,o,!1,null,null,null)),O=_.exports,P=t("75fc"),E=(t("ac6a"),t("5df3"),t("795b")),R=t.n(E),T=t("2f62"),A=t("4328"),C=t.n(A),B=t("bc3a"),L=t.n(B),N=L.a.create({baseURL:"https://www.toyou.xyz/poerty/json",timeout:1e4,headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/x-www-form-urlencoded"}});N.interceptors.request.use(function(e){if(navigator.onLine)return"post"===e.method&&(e.data=C.a.stringify(e.data)),e;alert("网络连接失败，请重试")},function(e){return R.a.reject(e)});var $=N;t("d958");r["a"].use(T["a"]);var z=new T["a"].Store({state:{shijing:[],lunyu:[],sishuwujing:[],keyword:""},getters:{shijing:function(e){return e.shijing},lunyu:function(e){return e.lunyu},sishuwujing:function(e){return e.sishuwujing},keyword:function(e){return e.keyword}},actions:{fetchShijing:function(e){var n=e.commit;return new R.a(function(e,t){$.get("/shijing/shijing.json").then(function(t){e(t.data),n("setShijing",t.data)})})},fetchLunyu:function(e){var n=e.commit;return new R.a(function(e,t){$.get("/lunyu/lunyu.json").then(function(t){e(t.data),n("setLunyu",t.data)})})},fetchSishuwujing:function(e){var n=e.commit,t=["daxue","zhongyong","mengzi"];return new R.a(function(e,r){R.a.all(t.map(function(e){return $.get("/sishuwujing/".concat(e,".json")).then(function(e){return e.data})})).then(function(t){var r=t.splice(0,2),i=[].concat(Object(P["a"])(r),Object(P["a"])(t[0]));e(i),n("setSishuwujing",i)})})}},mutations:{setShijing:function(e,n){e.shijing=n},setLunyu:function(e,n){e.lunyu=n},setSishuwujing:function(e,n){e.sishuwujing=n},setKeyword:function(e,n){e.keyword=n}}}),H=z,M=t("8c4f");r["a"].use(M["a"]);var q=new M["a"]({base:"/poerty/",fallback:!0,scrollBehavior:function(e,n,t){return t||{x:0,y:0}},routes:[{path:"/",component:function(){return t.e("chunk-cdefb6d4").then(t.bind(null,"8fc1"))}},{path:"/shijing",component:function(){return t.e("chunk-cdefb6d4").then(t.bind(null,"8fc1"))}},{path:"/lunyu",component:function(){return t.e("chunk-fd6f1cc2").then(t.bind(null,"ecc9"))}},{path:"/sishuwujing",component:function(){return t.e("chunk-67bc8eaa").then(t.bind(null,"d066"))}}]}),U=q,G={data:function(){return{speech:window.SpeechSynthesisUtterance}},methods:{read:function(e){var n=new window.SpeechSynthesisUtterance;n.text=e,window.speechSynthesis.speak(n)},matchTitle:function(e){if(e.includes(this.keyword))return!0},matchContent:function(e){for(var n=!1,t=this.keyword,r=0;r<e.length;r++)if(e[r].includes(t)){n=!0;break}return n}}},J=G;r["a"].mixin(J),r["a"].config.productionTip=!1,r["a"].prototype.highlight=function(e,n){return n&&e.includes(n)?e.split(n).join("<b>".concat(n,"</b>")):e},new r["a"]({store:H,router:U,render:function(e){return e(O)}}).$mount("#app")},"64a9":function(e,n,t){},"6c54":function(e,n,t){"use strict";var r=t("3092"),i=t.n(r);i.a},"895a":function(e,n,t){}});
//# sourceMappingURL=app.7aa34c33.js.map